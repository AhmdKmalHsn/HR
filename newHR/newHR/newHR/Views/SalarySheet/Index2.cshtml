@model IEnumerable<Model.SalarySheet>
@{
                /**/

                /**/

                ViewBag.Title = "Index";
                Layout = "~/Views/Shared/_Layout.cshtml";

                string Id = Session["login"].ToString();
                var User = Services.UserService.GetById(int.Parse(Id));
                var role = Services.RoleService.GetById(int.Parse(User.RoleId.ToString()));
}
SalarySheet / SalarySheet Calculations

<link rel="stylesheet" type="text/css" href="/Content/DevExtreme/dx.common.css">
<link rel="stylesheet" type="text/css" href="/Content/DevExtreme/generic.greenmist.custom.css">

<style>
    .ui-dialog-titlebar-close {
        visibility: hidden;
    }
</style>
<div class="card">
    <div class="card-header">
        <h5 class="text-capitalize">Salary Sheet Calculations</h5>
    </div>
    <div class="container mt-5">

        @using (Html.BeginForm("AddSheets", "SalarySheet", FormMethod.Post))
        {
            if (ViewBag.Message == "")
            {
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="colFormLabel" class="col-sm-4 col-form-label">Salary Sheet Group Id</label>
                            <div class="col-sm-8">
                                <input type="number" name="EmployeeNo" class="form-control gg" id="colFormLabel" readonly placeholder="Select Value..."><span class="ion-navicon-round aa" style="position: absolute;right:22px;top:6px; cursor: pointer;"></span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="colFormLabel" class="col-sm-4 col-form-label-sm">Class</label>
                            <div class="col-sm-8">
                                @if (ViewBag.Message == "")
                                {
                                    @Html.DropDownListFor(ww => ww.ToList()[0].EmployeeId, ViewBag.Class as SelectList, htmlAttributes: new { @class = "custom-select form-control-sm w-100", id = "Class", name = "Class" })
                                }
                                else
                                {
                                    <select class="custom-select form-control-sm w-100" , id="Class" name="Class">
                                        @foreach (var item in ViewBag.Class)
                                        {
                                            <option>
                                                @item
                                            </option>
                                        }
                                    </select>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="colFormLabel" class="col-sm-4 col-form-label-sm">Poriod</label>
                            <div class="col-sm-8">
                                <select class="custom-select form-control-sm w-100" name="Month" id="Month">
                                    <option value="0" selected>Choose...</option>
                                    @for (int i = 1; i <= 12; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }

                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="colFormLabel" class="col-sm-4 col-form-label">Year</label>
                            <div class="col-sm-8">
                                @*<input type="text" name="year" class="form-control" id="year" placeholder="col-form-label">*@
                                <select class="custom-select form-control-sm w-100" name="year" id="year">
                                    <option selected value="0">Choose...</option>
                                    @for (int i = 1980; i <= DateTime.Now.Year; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="">
                    <div class="table-responsive">
                        <form>
                            <div class="dx-viewport">
                                <div>
                                    <label class="btn btn-primary mb-3" onclick="GetSalary()">Calculation</label>
                                    <a href="/SalarySheet/DownloadExcel" class="btn btn-primary mb-3" style="float:right">Print on Excel</a>

                                    <div id="tbody"></div>
                                </div>
                            </div>

                        </form>
                    </div>

                </div>

                /* <div class="row">
                    <div class="col-md-12 ">
                        <label class="btn btn-primary mb-3" onclick="GetSalary()">Calculation</label>
                        <a href="/SalarySheet/DownloadExcel" class="btn btn-primary mb-3" style="float:right">Print on Excel</a>
                        <div class="">
                            <div class="ff" style="overflow: auto; height: 500px;">
                                <table id="demo" class="table table-striped table-bordered table-sm " cellspacing="0" width="100%">
                                    <thead>
                                        <tr>
                                            <td colspan="43" class="text-center">الاجور والمرتبات عن شهر/</td>

                                        </tr>
                                        <tr>
                                            <th class="text-center" colspan="11" style="background:#F2F2F2;"> الاستقطاعات</th>
                                            <th class="text-center" colspan="10"> الاستحقاقات</th>

                                            <th class="text-center" colspan="22" style="background:#F2F2F2">مرتبات قسم مراقبي الجوده م</th>
                                        </tr>

                                    </thead>
                                    <tbody class="text-center" id="tbody">
                                        <tr>
                                            <td colspan="1" rowspan="2">التاريخ</td>
                                            <td colspan="1" rowspan="2">عدم الغياب</td>
                                            <td colspan="1" rowspan="2">صافي المرتب</td>
                                            <td colspan="1" rowspan="2">جمله مستقطع</td>
                                            <td colspan="1" rowspan="2">ملبس</td>
                                            <td colspan="3">خصومات</td>
                                            <td rowspan="2">سلف</td>
                                            <td rowspan="2">ح متغير</td>
                                            <td rowspan="2">ح اساسي</td>
                                            <td colspan="2">تامينات</td>
                                            <td rowspan="2">جمله المستحق</td>
                                            <td rowspan="2">غلاء معيشه</td>
                                            <td rowspan="2">حافز مهاره</td>
                                            <td rowspan="2">قيمه ساعات الاضافي</td>
                                            <td rowspan="2">معدل ساعه الاضافي</td>
                                            <td rowspan="2">عدد ساعات الاضافي</td>
                                            <td rowspan="2">حافز انتظام</td>
                                            <td rowspan="2">قيمه عدد الايام</td>
                                            <td rowspan="2">الاجر الشهري</td>
                                            <td colspan="2">عدد الايام</td>
                                            <td rowspan="2">الاسم</td>
                                            <td rowspan="2">File No</td>
                                            <td rowspan="2">كود</td>

                                        </tr>
                                        <tr>


                                            <td>تاخيرات</td>


                                            <td>جزاءات</td>

                                            <td>غياب</td>
                                            <td>متغير </td>
                                            <td>اساسي</td>
                                            <td>اجازة </td>
                                            <td>نهار</td>

                                        </tr>



                                        @foreach (var item in Model)
                                        {
                                            <tr>
                                                <td>@item.Date</td>
                                                <td>@item.NotToBeAbsent</td>
                                                <td>@item.NetSalary</td>
                                                <td>@item.InterruptedSentence</td>
                                                <td>@item.Candied</td>
                                                <td>@item.DiscountDelays</td>
                                                <td>@item.SanctionsDiscount</td>
                                                <td>@item.AbsenceDiscount</td>
                                                <td>@item.Loans</td>
                                                <td>@item.H_Variable</td>
                                                <td>@item.H_Basic</td>
                                                <td>@item.VariableInsurance</td>
                                                <td>@item.BasicInsurance</td>
                                                <td>@item.OutstandingSentence</td>
                                                <td>@item.expensiveLivingConditons</td>
                                                <td>@item.SkillIncentive</td>
                                                <td>@item.OvertimeValue</td>
                                                <td>@item.OvertimeRate</td>
                                                <td>@item.Overtime</td>
                                                <td>@item.RegularityIncentive</td>
                                                <td>@item.NumberOfDays</td>
                                                <td>@item.SalaryManth</td>
                                                <td>@item.NoOfDateVacation</td>
                                                <td>@item.NoOfDateMorning</td>
                                                <td>@item.Name</td>
                                                <td>@item.FileNo</td>
                                                <td>@item.EmployeeId</td>
                                            </tr>
                                        }

                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div> */

                if (role.Salary_Sheet == RoleStatus.Full || role.Salary_Sheet == RoleStatus.Add)
                {
                    <div class="row mb-3 mt-4">
                        <div class="col-md-12 ">
                            <button class="btn btn-primary " type="submit">Add</button>
                        </div>
                    </div>


                }
            }

            else
            {
                <script>
                    alert("هناك موظفين ليسوا مسجلين فى وقت العمل الاساسى (basic bay work time) او ال (Shift) برجاء تسجيلهم اولا");
                </script>
            }

        }

    </div>
</div>
<div class="card cardee ff" style="display: none;border:4px solid #7FB9D4" id="dialog">
    <div class="card-block ff scrolltop">

        <div class="row ">
            <div class="col-md-9">
                <input class="mt-4  ml-0 form-control input-sm w-50" onkeyup="myFunction()" id="myInput" type="search" placeholder="search...." aria-controls="add-row-table">
                <br />

            </div>
            <div style="text-align:right !important; cursor:pointer" class="col-md-3">
                <i class="fa fa-times-circle fa-2x closee" aria-hidden="true"></i>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered table-striped " id="">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Date</th>
                        <th>Choose</th>

                    </tr>
                </thead>
                <tbody id="myTable" class="k">
                    @foreach (var item in ViewBag.SalarySheet)
                    {
                        <tr>
                            <th class="idd">@item.Id</th>
                            <td>@item.Name</td>
                            <td>@item.Date</td>
                            <td class="tabledit-view-mode hh">
                                <button class="btn btn-primary choose btnSelect"> choose</button>
                            </td>
                        </tr>
                    }


                </tbody>
            </table>
        </div>

    </div>
</div>
<script type="text/javascript" src="~/bower_components/jquery/js/jquery.min.js"></script>
<script src="~/bower_components/jquery-ui/js/jquery-ui.min.js"></script>
<script src="~/Scripts/DevExtreme/jszip.min.js"></script>
<script src="~/Scripts/DevExtreme/dx.all.js"></script>
<script src="~/Scripts/DevExtreme/cldr.min.js"></script>
<script src="~/Scripts/DevExtreme/event.min.js"></script>
<script src="~/Scripts/DevExtreme/supplemental.min.js"></script>
<script src="~/Scripts/DevExtreme/globalize.js"></script>
<script src="~/Scripts/DevExtreme/message.js"></script>
<script src="~/Scripts/DevExtreme/number.js"></script>
<script src="~/Scripts/DevExtreme/currency.js"></script>
<script src="~/Scripts/DevExtreme/date.js"></script>


@*<script type="text/javascript" src="~/bower_components/jquery/js/jquery.min.js"></script>
    <script src="~/bower_components/jquery-ui/js/jquery-ui.min.js"></script>*@
<script>
    var t = document.title;
    document.title = t + "- SalarySheet"
    $(document).ready(function () {
        let z = $('#demo').width();
        //$('.ff').scrollLeft(z);
        $('.ff').scrollLeft(z + z + z + z + z + z + z + z + z + z + z)



    })
</script>

<script>

    var SetGrid = function (resultData) {
        $('#tbody').empty();
        $("#tbody").dxDataGrid({
            columnChooser: {
                enabled: true,
                mode: "dragAndDrop" // or "select"
            },
            dataSource: resultData,
            showBorders: true,
            selection: {
                mode: "multiple"
            },
            "export": {
                enabled: true,
                fileName: "Data",
                allowExportSelectedData: true
            },
            paging: {
                pageSize: 20
            },
            pager: {
                showPageSizeSelector: true,
                allowedPageSizes: [20, 50, 100, 200, 300]
            },
            filterRow: {
                visible: true,
                applyFilter: "auto"
            },
            searchPanel: {
                visible: true,
                width: 350,
                placeholder: 'Name',
                alignment: "left"
            },
            headerFilter: {
                visible: true
            },
            remoteOperations: true,

            groupPanel: {
                visible: true,
                emptyPanelText: 'Count = ' + resultData.length,
            },
            grouping: {
                autoExpandAll: false
            },
            allowColumnReordering: true,
            rowAlternationEnabled: true,
            allowColumnResizing: true,
            columnAutoWidth: false,
            columns: [

                {
                    caption: 'التاريخ',
                    dataField: "Date",
                    dataType: "date",
                    format: 'yyyy-MM-dd',
                    alignment: "center",
                    width: 180
                },

                {
                    caption: 'عدم غياب',
                    dataField: "NotToBeAbsent",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'صافى المرتب',
                    dataField: "NetSalary",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'جملة المستقطع',
                    dataField: "InterruptedSentence",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'ملبس',
                    dataField: "Candied",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'تأخيرات',
                    dataField: "DiscountDelays",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'جزاءات',
                    dataField: "SanctionsDiscount",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'غياب',
                    dataField: "AbsenceDiscount",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'سلف',
                    dataField: "Loans",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'ح-متغير',
                    dataField: "H_Variable",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'ح-اساسى',
                    dataField: "H_Basic",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'تأمينات متغيرة',
                    dataField: "VariableInsurance",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'تامينات اساسى',
                    dataField: "BasicInsurance",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'جملة المستحق',
                    dataField: "OutstandingSentence",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'غلاء معيشة',
                    dataField: "expensiveLivingConditons",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'حافز مهارة',
                    dataField: "SkillIncentive",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'قيمة الوقت الاضافى',
                    dataField: "OvertimeValue",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'معدل الساعة الاضافى',
                    dataField: "OvertimeRate",
                    dataType: "string",
                    alignment: "center",
                    width: 50
                },

                {
                    caption: 'الوقت الاضافى',
                    dataField: "Overtime",
                    dataType: "string",
                    alignment: "center",
                    width: 75
                },

                {
                    caption: 'حافز انتظام',
                    dataField: "RegularityIncentive",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'قيمة عدد الايام',
                    dataField: "NumberOfDays",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'الاجر الشهرى',
                    dataField: "SalaryManth",
                    dataType: "string",
                    alignment: "center",
                    width: 100
                },

                {
                    caption: 'ايام الاجازة',
                    dataField: "NoOfDateVacation",
                    dataType: "string",
                    alignment: "center",
                    width: 75
                },

                {
                    caption: 'ايام الحضور',
                    dataField: "NoOfDateMorning",
                    dataType: "string",
                    alignment: "center",
                    width: 75
                },

                {
                    caption: 'الاسم',
                    dataField: "Name",
                    dataType: "string",
                    alignment: "center",
                    width: 200
                },

                {
                    caption: 'FileNo',
                    dataField: "FileNo",
                    dataType: "string",
                    alignment: "center",
                    width: 75
                },

                {
                    caption: 'الكود',
                    dataField: "EmployeeId",
                    dataType: "Number",
                    alignment: "center",
                    
                    width: 50
                },
                //{
                //    caption: "Edit",
                //    dataField: "Id",
                //    alignment: "center",
                //    allowFiltering: false,
                //    allowSorting: false,
                //    allowExporting: false,
                //    width: 90,
                //    cellTemplate: function (container, options) {
                //        var htmlContent = '';
                //        htmlContent = htmlContent + '<div width="100%" >';
                //        htmlContent = htmlContent + '<table width="100%">';
                //        htmlContent = htmlContent + '<tr>';
                //        htmlContent = htmlContent + '<td>';
                //        htmlContent =
                //            htmlContent +
                //            `<a style="cursor: pointer;" target="_blank" href="/Absence/Edit/${options.value
                //            }" ><i class="fa fa-edit fa-2x" title="Edit"></i>`;
                //        htmlContent = htmlContent + '</td>';
                //        htmlContent = htmlContent + '</tr>';
                //        htmlContent = htmlContent + '</table>';
                //        htmlContent = htmlContent + '</div>';
                //        container.append(htmlContent);
                //    }
                //},
            ],
            onContentReady: function (e) {
                if (!collapsed) {
                    collapsed = true;
                    e.component.expandRow(["EnviroCare"]);
                }
            }
        });
    }

    $('#Class').append('<option value="0" selected>Choose...</option>');
    $('#SalarySheetId').append('<option value="0" selected>Choose...</option>');

    //$('#Month').change(function () {
    //    $.ajax({
    //        type: 'POST',
    //        url: 'GetData',
    //        dataType: 'json',
    //        data: {
    //            SalarySheetId: $('#SalarySheetId').val(),
    //            Month: $('#Month').val(),
    //            Year: $('#year').val(),
    //            Class: $('#Class').val()
    //        },
    //        success: function (mems) {
    //            debugger;
    //            $('#tbody').empty();
    //            $('#tbody').append('<tr><td colspan = "1" rowspan = "2" > التاريخ</td ><td colspan="1" rowspan="2">عدم الغياب</td><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td><td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td></tr ><tr><td>تأخيرات </td><td>جزاءات</td><td>غياب</td><td>متغير </td><td>اساسي</td><td>اجازة</td><td>نهار</td></tr>');


    //            for (var i = 0; i < mems.length; i++) {
    //                $('#tbody').append("<tr><td>" + mems[i].Date + "</td><td>" + mems[i].NotToBeAbsent + "</td><td>" + mems[i].NetSalary + "</td><td>" + mems[i].InterruptedSentence + "</td><td>" + mems[i].Candied + "</td><td>" + mems[i].DiscountDelays + "</td><td>" + mems[i].SanctionsDiscount + "</td><td>" + mems[i].AbsenceDiscount + "</td><td>" + mems[i].Loans + "</td><td>" + mems[i].H_Variable + "</td><td>" + mems[i].H_Basic + "</td><td>" + mems[i].VariableInsurance + "</td><td>" + mems[i].BasicInsurance + "</td><td>" + mems[i].OutstandingSentence + "</td><td>" + mems[i].expensiveLivingConditons + "</td><td>" + mems[i].SkillIncentive + "</td><td>" + mems[i].OvertimeValue + "</td><td>" + mems[i].OvertimeRate + "</td><td>" + mems[i].Overtime + "</td><td>" + mems[i].RegularityIncentive + "</td><td>" + mems[i].NumberOfDays + "</td><td>" + mems[i].SalaryManth + "</td><td>" + mems[i].NoOfDateVacation + "</td><td>" + mems[i].NoOfDateMorning + "</td><td>" + mems[i].Name + "</td><td>" + mems[i].FileNo + "</td><td>" + mems[i].EmployeeId + "</td></tr>");
    //            }
    //        },
    //        error: function (ex) {
    //            alert("error in data");
    //        }
    //    });
    //})

    $('#SalarySheetId').change(function () {
        $.ajax({
            type: 'GET',
            url: 'GetDataById',
            dataType: 'json',
            data: {
                SalarySheetId: $('#SalarySheetId').val()
            },
            success: function (mems) {
                
                //$('#tbody').empty();
                //$('#tbody').append('<tr><td colspan = "1" rowspan = "2" > التاريخ</td ><td colspan="1" rowspan="2">عدم الغياب</td><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td><td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td></tr ><tr><td>تأخيرات </td><td>جزاءات</td><td>غياب</td><td>متغير </td><td>اساسي</td><td>اجازة</td><td>نهار</td></tr>');
                SetGrid(mems);
                //$('#tbody').append(' <td colspan="1" rowspan="2">التاريخ</td>< td colspan = "1" rowspan = "2" > عدم الغياب</td ><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td<td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td>< tr > < td > غياب</td ><td>جزاءات</td><td>تأخيرات </td><td>متغير </td><td>اساسي</td></tr>');
                //for (var i = 0; i < mems.length; i++) {
                //    $('#tbody').append("<tr><td>" + mems[i].Date + "</td><td>" + mems[i].NotToBeAbsent + "</td><td>" + mems[i].NetSalary + "</td><td>" + mems[i].InterruptedSentence + "</td><td>" + mems[i].Candied + "</td><td>" + mems[i].DiscountDelays + "</td><td>" + mems[i].SanctionsDiscount + "</td><td>" + mems[i].AbsenceDiscount + "</td><td>" + mems[i].Loans + "</td><td>" + mems[i].H_Variable + "</td><td>" + mems[i].H_Basic + "</td><td>" + mems[i].VariableInsurance + "</td><td>" + mems[i].BasicInsurance + "</td><td>" + mems[i].OutstandingSentence + "</td><td>" + mems[i].expensiveLivingConditons + "</td><td>" + mems[i].SkillIncentive + "</td><td>" + mems[i].OvertimeValue + "</td><td>" + mems[i].OvertimeRate + "</td><td>" + mems[i].Overtime + "</td><td>" + mems[i].RegularityIncentive + "</td><td>" + mems[i].NumberOfDays + "</td><td>" + mems[i].SalaryManth + "</td><td>" + mems[i].NoOfDateVacation + "</td><td>" + mems[i].NoOfDateMorning + "</td><td>" + mems[i].Name + "</td><td>" + mems[i].FileNo + "</td><td>" + mems[i].EmployeeId + "</td></tr>");
                //}

            },
            error: function (ex) {
                alert("error in data");
            }
        });
    })

    function GetSalary() {
        $.ajax({
            type: 'Get',
            url: 'GetData',
            dataType: 'json',
            data: {
                SalarySheetId: $('#SalarySheetId').val(),
                Month: $('#Month').val(),
                Year: $('#year').val(),
                Class: $('#Class').val()
            },
            success: function (mems) {
                
                //$('#tbody').empty();
                //$('#tbody').append('<tr><td colspan = "1" rowspan = "2" > التاريخ</td ><td colspan="1" rowspan="2">عدم الغياب</td><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td><td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td></tr ><tr><td>تأخيرات </td><td>جزاءات</td><td>غياب</td><td>متغير </td><td>اساسي</td><td>اجازة</td><td>نهار</td></tr>');

                //$('#tbody').append('<tr><td colspan="1" rowspan="2">التاريخ</td><td colspan="1" rowspan="2">عدم الغياب</td><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td><td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td></tr><tr><td>نهار</td><td>اجازة </td><td>اساسي</td><td>متغير </td><td>غياب</td><td>جزاءات</td><td>تأخيرات </td></tr>');
                //for (var i = 0; i < mems.length; i++) {
                //    $('#tbody').append("<tr><td>" + mems[i].Date + "</td><td>" + mems[i].NotToBeAbsent + "</td><td>" + mems[i].NetSalary + "</td><td>" + mems[i].InterruptedSentence + "</td><td>" + mems[i].Candied + "</td><td>" + mems[i].DiscountDelays + "</td><td>" + mems[i].SanctionsDiscount + "</td><td>" + mems[i].AbsenceDiscount + "</td><td>" + mems[i].Loans + "</td><td>" + mems[i].H_Variable + "</td><td>" + mems[i].H_Basic + "</td><td>" + mems[i].VariableInsurance + "</td><td>" + mems[i].BasicInsurance + "</td><td>" + mems[i].OutstandingSentence + "</td><td>" + mems[i].expensiveLivingConditons + "</td><td>" + mems[i].SkillIncentive + "</td><td>" + mems[i].OvertimeValue + "</td><td>" + mems[i].OvertimeRate + "</td><td>" + mems[i].Overtime + "</td><td>" + mems[i].RegularityIncentive + "</td><td>" + mems[i].NumberOfDays + "</td><td>" + mems[i].SalaryManth + "</td><td>" + mems[i].NoOfDateVacation + "</td><td>" + mems[i].NoOfDateMorning + "</td><td>" + mems[i].Name + "</td><td>" + mems[i].FileNo + "</td><td>" + mems[i].EmployeeId + "</td></tr>");
                //}
                SetGrid(mems);
            },
            error: function (ex) {
                alert("error in data");
            }
        });

    }
</script>
<script>
    //Min.js
    $(document).ready(function () {
        $("#myTable").on('click', '.btnSelect', function () {
            // get the current row
            var currentRow = $(this).closest("tr");

            var col1 = currentRow.find("th:eq(0)").text(); // get current row 1st TD value

            var data = col1;


            // alert(data);

            // alert(data);
            $('.gg').val(data);
            $('#dialog').hide()

            $.ajax({
                type: 'GET',
                url: 'GetDataById',
                dataType: 'json',
                data: {
                    SalarySheetId: data
                },
                success: function (mems) {
                  
                    //$('#tbody').empty();
                    //$('#tbody').append('<tr><td colspan = "1" rowspan = "2" > التاريخ</td ><td colspan="1" rowspan="2">عدم الغياب</td><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td><td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td></tr ><tr><td>تاخيرات</td><td>جزاءات</td><td>غياب</td><td>متغير </td><td>اساسي</td><td>اجازة</td><td>نهار</td></tr>');

                    //$('#tbody').append(' <td colspan="1" rowspan="2">التاريخ</td>< td colspan = "1" rowspan = "2" > عدم الغياب</td ><td colspan="1" rowspan="2">صافي المرتب</td><td colspan="1" rowspan="2">جمله مستقطع</td><td colspan="1" rowspan="2">ملبس</td><td colspan="3">خصومات</td><td rowspan="2">سلف</td><td rowspan="2">ح متغير</td><td rowspan="2">ح اساسي</td><td colspan="2">تامينات</td><td rowspan="2">جمله المستحق</td><td rowspan="2">غلاء معيشه</td><td rowspan="2">حافز مهاره</td><td rowspan="2">قيمه ساعات الاضافي</td><td rowspan="2">معدل ساعه الاضافي</td<td rowspan="2">عدد ساعات الاضافي</td><td rowspan="2">حافز انتظام</td><td rowspan="2">قيمه عدد الايام</td><td rowspan="2">الاجر الشهري</td><td colspan="2">عدد الايام</td><td rowspan="2">الاسم</td><td rowspan="2">File No</td><td rowspan="2">كود</td>< tr > < td > غياب</td ><td>جزاءات</td><td>تاخيرات</td><td>متغير </td><td>اساسي</td></tr>');
                    //for (var i = 0; i < mems.length; i++) {
                    //    $('#tbody').append("<tr><td>" + mems[i].Date + "</td><td>" + mems[i].NotToBeAbsent + "</td><td>" + mems[i].NetSalary + "</td><td>" + mems[i].InterruptedSentence + "</td><td>" + mems[i].Candied + "</td><td>" + mems[i].DiscountDelays + "</td><td>" + mems[i].SanctionsDiscount + "</td><td>" + mems[i].AbsenceDiscount + "</td><td>" + mems[i].Loans + "</td><td>" + mems[i].H_Variable + "</td><td>" + mems[i].H_Basic + "</td><td>" + mems[i].VariableInsurance + "</td><td>" + mems[i].BasicInsurance + "</td><td>" + mems[i].OutstandingSentence + "</td><td>" + mems[i].expensiveLivingConditons + "</td><td>" + mems[i].SkillIncentive + "</td><td>" + mems[i].OvertimeValue + "</td><td>" + mems[i].OvertimeRate + "</td><td>" + mems[i].Overtime + "</td><td>" + mems[i].RegularityIncentive + "</td><td>" + mems[i].NumberOfDays + "</td><td>" + mems[i].SalaryManth + "</td><td>" + mems[i].NoOfDateVacation + "</td><td>" + mems[i].NoOfDateMorning + "</td><td>" + mems[i].Name + "</td><td>" + mems[i].FileNo + "</td><td>" + mems[i].EmployeeId + "</td></tr>");
                    //}
                    SetGrid(mems);

                },
                error: function (ex) {
                    alert("error in data");
                }
            });
        });

        $('.alert').fadeOut(8000),
            $('.close').click(function () {
                $('.alert').hide()
            })
        $('.aa').on('click', function () {
            $(function () {
                $("#dialog").dialog({
                    width: 700,
                    height: 500,



                    /*appendTo: '<div class="card-header"><h5>Edit With Button</h5><span>Click on buttons to perform actions</span><div class="card-header-right"><i class="icofont icofont-rounded-down"></i><i class="icofont icofont-refresh"></i><i class="icofont icofont-close-circled"></i></div></div><div class="card-block"><div class="table-responsive"><table class="table table-striped table-bordered" id="example-2"><thead><tr><th>emp ID</th><th>First name</th><th>Last name</th><th>Choose</th></tr></thead><tbody><tr><th scope="row" class=""><input id="idd"></th><td>Islam</td><td>Ahmed</td><td class="tabledit-view-mode hh"><!-- <select id="dropdownList"><option value="1">Option 1</option> <option value="2">Option 2</option><option value="3">Option 3</option><option value="4">Option 4</option><option value="5">Option 5</option></select>--><button class="btn btn-primary" id="choose"> choose</button></td></tr></tbody></table></div></div>'*/
                });


            });
        });
    });


</script>
<script>
    $(document).ready(function () {
        $('.alert').fadeOut(8000),
            $('.close').click(function () {
                $('.alert').hide()
            })
        $('.closee').click(function () {
            $('.cardee').hide()
        })
    });
</script>


<script>
    $(function () {
        $("#myInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#myTable tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
        $('.aa').click(function () {
            var tr = $('.k ').find('tr').length;
            console.log(tr)

            if (tr >= 6) {

                $('.table-responsive').css('overflow-y', "scroll");
                $('.table-responsive').css('height', "340px")

            }
            else {
                $('.table-responsive').css('overflow', "hidden");

            }
        })
    })
</script>