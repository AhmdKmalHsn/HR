@model ViewModel.UserVM
@{
    ViewBag.Title = "UserProfile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .n {
        display: none
    }

    .b {
        display: block
    }

    .profile-pic {
        max-width: 200px;
        max-height: 200px;
        display: block;
    }

    .file-upload {
        display: none;
    }

    .circle {
        border-radius: 1000px !important;
        overflow: hidden;
        width: 128px;
        height: 128px;
        border: 8px solid rgba(255, 255, 255, 0.7);
        position: absolute;
        top: 72px;
    }

    img {
        max-width: 100%;
        height: auto;
    }

    .p-image {
        position: absolute;
        top: 167px;
        right: 30px;
        color: #666666;
        transition: all .3s cubic-bezier(.175, .885, .32, 1.275);
    }

        .p-image:hover {
            transition: all .3s cubic-bezier(.175, .885, .32, 1.275);
        }

    .upload-button {
        font-size: 1.2em;
    }

        .upload-button:hover {
            transition: all .3s cubic-bezier(.175, .885, .32, 1.275);
            color: #999;
        }
</style>

<!-- Page-body start -->
@using (Html.BeginForm("UserProfile", "User", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="page-body">
        <!--profile cover start-->
        <div class="row">
            <div class="col-lg-12">
                <div class="cover-profile">
                    <div class="profile-bg-img">
                        <img class="profile-bg-img img-fluid" src="~/assets2/images/slider-full (2).jpg" alt="bg-img">
                        <div class="card-block user-info">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="media-left col-md-2" style="position:relative; padding-right:0">
                                            <a href="#" class="profile-image">
                                                @if (Model.Image == null)
                                                {
                                                    <img class="user-img img-circle profile-pic w-75 h-75" src="~/assets2/images/user-profile/avatar-blank.JPG" alt="user-img" id="blah" style="width:100%">
                                                }
                                                else
                                                {
                                                    <img class="user-img img-circle profile-pic w-75 h-75" src="@Model.Image" alt="user-img" id="blah" style="width:100%">

                                                }
                                                <i class="fa fa-camera upload-button" style="position:absolute;top:80px;right:98px"></i>
                                                <input type="file" name="ImagePath" id="imgInp" class="file-upload" style="display:none">
                                                @*@Html.EditorFor(ee => ee.ImagePath, new { htmlAttributes = new { @class = "file-upload", type = "file", id = "imgInp", style = "display:none" } })*@

                                            </a>
                                        </div>
                                        <div class="media-body row" style="margin-top:120px">
                                            <div class="col-lg-12">
                                                <div class="user-title">
                                                    <h2>@Model.FullName</h2>
                                                    @*<span class="text-white">user type</span>*@
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--profile cover end-->
        <div class="row">
            <div class="col-lg-12">
                <!-- tab header start -->
                <div class="tab-header" style="text-align: center;">
                    <ul class="nav nav-tabs md-tabs tab-timeline" role="tablist" id="mytab">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#personal" role="tab">Personal Info</a>
                            <div class="slide"></div>
                        </li>

                    </ul>
                </div>
                <!-- tab header end -->
                <!-- tab content start -->
                <div class="tab-content">
                    <!-- tab panel personal start -->
                    <div class="tab-pane active" id="personal" role="tabpanel">
                        <!-- personal card start -->
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-header-text">About Me</h5>
                                <button id="edit-btn" type="button" class="btn btn-sm btn-primary waves-effect waves-light f-right">
                                    <i class="icofont icofont-edit"></i>
                                </button>
                            </div>
                            <div class="card-block">
                                <div class="view-info b">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="general-info">
                                                <div class="row">
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="table-responsive">
                                                            <table class="table m-0">
                                                                <tbody>
                                                                    <tr>
                                                                        <th scope="row" class="i">Full Name</th>
                                                                        <td>@Model.FullName</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th scope="row">Address</th>
                                                                        <td>@Model.Address</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th scope="row">User Name</th>
                                                                        <td>@Model.UserName</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th scope="row">Gender</th>
                                                                        <td>@Model.Gender</td>
                                                                    </tr>


                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <!-- end of table col-lg-6 -->
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="table-responsive">
                                                            <table class="table">
                                                                <tbody>
                                                                    <tr>
                                                                        <th scope="row">Email</th>
                                                                        <td><a href="#!">@Model.Email</a></td>
                                                                    </tr>

                                                                    <tr>
                                                                        <th scope="row"> Password</th>
                                                                        <td>*******</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th scope="row">Birth Date</th>
                                                                        <td>@ViewBag.Date</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th scope="row">Marital Status</th>
                                                                        <td>@Model.MaritalStatus</td>
                                                                    </tr>


                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <!-- end of table col-lg-6 -->
                                                </div>
                                                <!-- end of row -->
                                            </div>
                                            <!-- end of general info -->
                                        </div>
                                        <!-- end of col-lg-12 -->
                                    </div>
                                    <!-- end of row -->
                                </div>
                                <!-- end of view-info -->
                                <div class="edit-info  n">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="general-info">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <table class="table">
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <label>First Name <span class="text-danger">*</span></label>
                                                                        <div class="input-group">

                                                                            <span class="input-group-addon"><i class="icofont icofont-user"></i></span>

                                                                            @*<input type="text" class="form-control Full" placeholder="Full Name">*@
                                                                            @Html.EditorFor(ee => ee.FirstName, new { htmlAttributes = new { @class = "form-control Full", placeholder = "First Name" } })
                                                                            @Html.ValidationMessageFor(ww => ww.FirstName, "", htmlAttributes: new { @class = "text-danger" })

                                                                        </div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td>
                                                                        <label>Second Name <span class="text-danger">*</span></label>
                                                                        <div class="input-group">

                                                                            <span class="input-group-addon"><i class="icofont icofont-user"></i></span>
                                                                            @*<input type="text" class="form-control Full" placeholder="Full Name">*@
                                                                            @Html.EditorFor(ee => ee.SecondName, new { htmlAttributes = new { @class = "form-control Full", placeholder = "Second Name" } })
                                                                            @Html.ValidationMessageFor(ww => ww.SecondName, "", htmlAttributes: new { @class = "text-danger" })

                                                                        </div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td>
                                                                        <label>Address <span class="text-danger">*</span></label>
                                                                        <div class="input-group" style="    margin-bottom: 1.50em;">

                                                                            @*<input id="dropper-default" class="form-control" type="text" placeholder="Address" />*@
                                                                            @Html.EditorFor(ee => ee.Address, new { htmlAttributes = new { @class = "form-control", placeholder = "Address", id = "dropper-default" } })
                                                                            @Html.ValidationMessageFor(ww => ww.Address, "", htmlAttributes: new { @class = "text-danger" })
                                                                            </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <label>User Name <span class="text-danger">*</span></label>
                                                                        <div class="input-group">

                                                                            @*<input id="dropper-default" class="form-control" type="text" placeholder="User Name" />*@
                                                                            @Html.EditorFor(ee => ee.UserName, new { htmlAttributes = new { @class = "form-control", placeholder = "UserName", id = "dropper-default", disabled = "true" } })
                                                                            </div>



                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <label>Gender <span class="text-danger">*</span></label>
                                                                        <div class="form-radio ">
                                                                            <div class="group-add-on">
                                                                                @Html.EnumDropDownListFor(x => x.Gender, new { @class = " form-control", placeholder = "Gender", requird = "true" })
                                                                                @Html.ValidationMessageFor(ww => ww.Gender, "", htmlAttributes: new { @class = "text-danger" })

                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <!-- end of table col-lg-6 -->
                                                    <div class="col-lg-6">
                                                        <table class="table">
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <label>Email<span class="text-danger">*</span></label>
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="icofont icofont-email"></i></span>
                                                                            @*<input type="text" class="form-control" placeholder="Emailr">*@
                                                                            @Html.EditorFor(ee => ee.Email, new { htmlAttributes = new { @class = "form-control", placeholder = "Email" } })
                                                                            @Html.ValidationMessageFor(ww => ww.Email, "", htmlAttributes: new { @class = "text-danger" })

                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <label>Paaword <span class="text-danger">*</span></label>
                                                                        <div class="input-group">
                                                                            @*<input type="password" class="form-control" placeholder="New password">*@
                                                                            @Html.EditorFor(ee => ee.Password, new { htmlAttributes = new { @class = "form-control", placeholder = "Password" } })
                                                                            @Html.ValidationMessageFor(ww => ww.Password, "", htmlAttributes: new { @class = "text-danger" })
                                                                        </div>
                                                                    </td>
                                                                </tr>


                                                                <tr>
                                                                    <td>
                                                                        <label>Confirm Password <span class="text-danger">*</span></label>
                                                                        <div class="input-group">
                                                                            @*<input type="email" class="form-control" placeholder="Confim Password">*@
                                                                            @Html.EditorFor(ee => ee.ConfirmPassword, new { htmlAttributes = new { @class = "form-control", placeholder = "Confirm Password" } })
                                                                            @Html.ValidationMessageFor(ww => ww.ConfirmPassword, "", htmlAttributes: new { @class = "text-danger" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <label>Birth Day <span class="text-danger">*</span></label>
                                                                        <div class="input-group">

                                                                            <input type="date" name="BirthDate" value="@ViewBag.Date" class="form-control" placeholder="Select Your Birth Date">
                                                                            @*<input id="dropper-default" class="form-control" name="BirthDate" type="date" placeholder="Select Your Birth Date">*@
                                                                            </div>
                                                                    </td>
                                                                </tr>

                                                                <tr>
                                                                    <td>
                                                                        <label>Marital Status <span class="text-danger">*</span></label>
                                                                        <div class="input-group">

                                                                            @Html.EnumDropDownListFor(x => x.MaritalStatus, new { @class = " form-control ", placeholder = "Marital Status", requird = "true" })
                                                                            @Html.ValidationMessageFor(ww => ww.MaritalStatus, "", htmlAttributes: new { @class = "text-danger" })
                                                                            </div>
                                                                    </td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <!-- end of table col-lg-6 -->
                                                </div>
                                                <!-- end of row -->
                                                <div class="text-center">
                                                    @*<a href="#!" class="btn btn-primary " id="s">Save</a>*@
                                                    <input type="submit" value="Save" class="btn btn-primary" id="s" />
                                                    <a href="/user/userprofile" id="edit-cancel" class="btn btn-default ">Cancel</a>
                                                </div>
                                            </div>
                                            <!-- end of edit info -->
                                        </div>
                                        <!-- end of col-lg-12 -->
                                    </div>
                                    <!-- end of row -->
                                </div>
                                <!-- end of edit-info -->
                            </div>
                            <!-- end of card-block -->
                        </div>

                        <!-- personal card end-->
                    </div>
                    <!-- tab pane personal end -->

                </div>
                <!-- tab content end -->
            </div>
        </div>
    </div>
}
<!-- Page-body end -->
<script type="text/javascript" src="~/bower_components/jquery/js/jquery.min.js"></script>
<script src="~/bower_components/jquery-ui/js/jquery-ui.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script>
    $(document).ready(function () {

        $("#edit-btn").on("click", function () {
            $('.edit-info').toggleClass("b")
            $('.view-info').toggleClass("n").removeClass("b")
            $('.icofont').addClass("icofont icofont-edit").removeClass("icofont-close")

        });

        // tittle
        var t = document.title;
        document.title = t + '- User Profile'
    });
</script>
<script>
    $(document).ready(function () {
        var readURL = function (input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('.profile-pic').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }

        $(".file-upload").on('change', function () {

            readURL(this);
        });


        $(".upload-button").on('click', function () {
            $(".file-upload").click();
        });
    })
</script>
<script>
    $(document).ready(function () {

        $(".file-upload").on('change', function () {
            readURL(this);
        });

        $(".upload-button").on('click', function () {
            $(".file-upload").click();
        });
    });

</script>
<script>
    $(function () {
        $('#edit-cancel').on('click', function () {
            $('.edit-info').toggleClass("b")
            $('.view-info').toggleClass("n").removeClass("b")
        })
    })
</script>
<script>

    $(function () {
        var x = $('#s').on('click', function se() {
            var Full = $('.Full').val();
            var i = $(".i");
            var xhr = new XMLHttpRequest();
            xhr.open('get', '', 'true');
            xhr.onload = function () {
                if (this.status == 200) {
                    console.log(xx);
                    i.val() = Full
                }
            }
            xhr.send()
        });


    })




</script>